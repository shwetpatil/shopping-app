(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4971:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(3856),s(7988),s(2262);var r=s(8768),a=s(544),i=s(3574),n=s.n(i),l=s(7730),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3856)),"/Users/siddharthy/Shweta-S/Learn/shopping-app/apps/mfe-cart/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,7988)),"/Users/siddharthy/Shweta-S/Learn/shopping-app/apps/mfe-cart/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,2262,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/siddharthy/Shweta-S/Learn/shopping-app/apps/mfe-cart/src/app/page.tsx"],h="/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6630:(e,t,s)=>{Promise.resolve().then(s.bind(s,8519)),Promise.resolve().then(s.bind(s,4845))},8565:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4069,23)),Promise.resolve().then(s.t.bind(s,8636,23)),Promise.resolve().then(s.t.bind(s,7906,23)),Promise.resolve().then(s.t.bind(s,4228,23)),Promise.resolve().then(s.t.bind(s,5469,23)),Promise.resolve().then(s.t.bind(s,8163,23))},8973:()=>{},8519:(e,t,s)=>{"use strict";s.d(t,{CartSummary:()=>x});var r=s(9436),a=s(6832);let i=(0,a.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),n=(0,a.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),l=(0,a.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var o=s(1205);class c{constructor(){this.listeners=new Map,this.eventHistory=[],this.maxHistorySize=50}publish(e,t){this.eventHistory.push({type:e,payload:t}),this.eventHistory.length>this.maxHistorySize&&this.eventHistory.shift();let s=this.listeners.get(e);s&&s.forEach(s=>{try{s(t)}catch(t){console.error(`[EventBus] Error in handler for "${e}":`,t)}})}subscribe(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),()=>{let s=this.listeners.get(e);s&&(s.delete(t),0===s.size&&this.listeners.delete(e))}}subscribeMultiple(e){let t=e.map(({type:e,handler:t})=>this.subscribe(e,t));return()=>{t.forEach(e=>e())}}getHistory(){return[...this.eventHistory]}clearHistory(){this.eventHistory=[]}getActiveSubscriptions(){let e=new Map;return this.listeners.forEach((t,s)=>{e.set(s,t.size)}),e}clear(){this.listeners.clear(),this.eventHistory=[]}}let d=new c;class h{constructor(){this.metrics=[],this.marks=new Map}mark(e){this.marks.set(e,performance.now())}measure(e,t,s){let r=this.marks.get(t);if(!r)return null;let a=performance.now()-r;return this.metrics.push({name:e,duration:a,timestamp:Date.now(),mfeName:s}),this.marks.delete(t),a}getMetrics(){return[...this.metrics]}clearMetrics(){this.metrics=[]}reportToAnalytics(){}}new h;class u{constructor(){this.flags=new Map,this.environment="development"}initialize(e){this.environment=e.environment||"development",Object.entries(e.flags).forEach(([e,t])=>{this.flags.set(e,t)}),console.log(`[FeatureFlags] Initialized with ${this.flags.size} flags in ${this.environment} mode`)}isEnabled(e,t){let s=this.flags.get(e);if(!s)return console.warn(`[FeatureFlags] Flag "${e}" not found, defaulting to false`),!1;if(t&&s.mfeScope&&!s.mfeScope.includes(t))return!1;if(void 0!==s.rolloutPercentage&&s.rolloutPercentage<100){let t=this.getUserId();return this.hashString(`${e}-${t}`)%100<s.rolloutPercentage}return s.enabled}setFlag(e,t){let s=this.flags.get(e);s&&(s.enabled=t,this.flags.set(e,s),console.log(`[FeatureFlags] Updated flag "${e}" to ${t}`))}getAllFlags(){return Array.from(this.flags.values())}getUserId(){return"server"}hashString(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t&=t;return Math.abs(t)}}new u,process.env.NEXT_PUBLIC_API_GATEWAY,process.env.NEXT_PUBLIC_SHELL_URL,process.env.NEXT_PUBLIC_SEARCH_URL,process.env.NEXT_PUBLIC_WISHLIST_URL,process.env.NEXT_PUBLIC_REVIEWS_URL,process.env.NEXT_PUBLIC_PRODUCTS_URL,process.env.NEXT_PUBLIC_CART_URL,process.env.NEXT_PUBLIC_ENABLE_ANALYTICS,process.env.NEXT_PUBLIC_ENABLE_ERROR_TRACKING,process.env.NEXT_PUBLIC_ENABLE_PERFORMANCE,process.env.NEXT_PUBLIC_CDN_URL;class m{constructor(){this.state={user:null,token:null,isAuthenticated:!1,isLoading:!0},this.tokenKey="mfe_auth_token",this.userKey="mfe_user_data"}initialize(){}login(e,t){this.setState({user:e,token:t,isAuthenticated:!0,isLoading:!1}),d.publish("auth:login",{user:e,token:t})}logout(){this.clearAuth(),d.publish("auth:logout",{})}updateUser(e){if(!this.state.user)return;let t={...this.state.user,...e};this.setState({...this.state,user:t})}getToken(){return this.state.token}getUser(){return this.state.user}isAuthenticated(){return this.state.isAuthenticated}getState(){return{...this.state}}setState(e){this.state=e}clearAuth(){this.setState({user:null,token:null,isAuthenticated:!1,isLoading:!1})}}new m;let p=[{id:"1",name:"Wireless Headphones",price:79.99,quantity:1,image:"/img1.jpg"},{id:"2",name:"Smart Watch",price:199.99,quantity:2,image:"/img2.jpg"}];function x({variant:e="full",showItems:t=!0,onCheckout:s,onViewCart:a,className:c}){var h;let[u,m]=(0,o.useState)(p);h="cart:sync",(0,o.useCallback)(e=>{d.publish(h,e)},[h]),function(e,t,s=[]){(0,o.useRef)(t)}(0,e=>{if(console.log("Cart: Received cart:add event",e),u.find(t=>t.id===e.productId))m(t=>t.map(t=>t.id===e.productId?{...t,quantity:t.quantity+e.quantity}:t));else{let t={id:e.productId,name:"New Product",price:99.99,quantity:e.quantity,image:"/placeholder.jpg"};m(e=>[...e,t])}});let x=(e,t)=>{t<1||m(s=>s.map(s=>s.id===e?{...s,quantity:t}:s))},g=e=>{m(t=>t.filter(t=>t.id!==e))},y=u.reduce((e,t)=>e+t.price*t.quantity,0),f=.1*y;if("icon-only"===e){let e=u.reduce((e,t)=>e+t.quantity,0);return(0,r.jsxs)("button",{onClick:a,className:`relative ${c||""}`,children:[r.jsx("span",{className:"text-2xl",children:"\uD83D\uDED2"}),e>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:e})]})}return(0,r.jsxs)("div",{className:`rounded-lg border bg-white p-6 ${c||""}`,children:[r.jsx("h3",{className:"mb-4 text-xl font-bold",children:"Shopping Cart"}),t&&"full"===e&&r.jsx("div",{className:"space-y-4 mb-6",children:u.map(e=>(0,r.jsxs)("div",{className:"flex gap-4 border-b pb-4",children:[r.jsx("div",{className:"h-20 w-20 rounded bg-gray-200"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:e.name}),(0,r.jsxs)("p",{className:"text-blue-600 font-bold",children:["$",e.price.toFixed(2)]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("button",{onClick:t=>{t.stopPropagation(),x(e.id,Math.max(1,e.quantity-1))},className:"rounded p-1 hover:bg-gray-100",children:r.jsx(i,{className:"h-4 w-4"})}),r.jsx("span",{className:"w-8 text-center",children:e.quantity}),r.jsx("button",{onClick:t=>{t.stopPropagation(),x(e.id,e.quantity+1)},className:"rounded p-1 hover:bg-gray-100",children:r.jsx(n,{className:"h-4 w-4"})})]})]}),r.jsx("button",{onClick:t=>{t.stopPropagation(),g(e.id)},className:"text-red-600 hover:text-red-700",children:r.jsx(l,{className:"h-5 w-5"})})]},e.id))}),(0,r.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),(0,r.jsxs)("span",{children:["$",y.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax:"}),(0,r.jsxs)("span",{children:["$",f.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[r.jsx("span",{children:"Total:"}),(0,r.jsxs)("span",{children:["$",(y+f).toFixed(2)]})]})]}),r.jsx("button",{onClick:s,className:"mt-6 w-full rounded-lg bg-blue-600 py-3 text-white font-semibold hover:bg-blue-700",children:"Proceed to Checkout"})]})}},4845:(e,t,s)=>{"use strict";s.d(t,{CheckoutFlow:()=>c});var r=s(9436),a=s(1205),i=s(6832);let n=(0,i.Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),l=(0,i.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),o=(0,i.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function c({onComplete:e}){let[t,s]=(0,a.useState)(1),i=[{num:1,name:"Shipping",icon:n},{num:2,name:"Payment",icon:l},{num:3,name:"Review",icon:o}];return(0,r.jsxs)("div",{className:"rounded-lg border bg-white p-6",children:[r.jsx("div",{className:"mb-8 flex justify-between",children:i.map((e,s)=>(0,r.jsxs)("div",{className:"flex flex-1 items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[r.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${t>=e.num?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:r.jsx(e.icon,{className:"h-5 w-5"})}),r.jsx("span",{className:"mt-2 text-sm font-medium",children:e.name})]}),s<i.length-1&&r.jsx("div",{className:`h-1 flex-1 ${t>e.num?"bg-blue-600":"bg-gray-200"}`})]},e.num))}),(0,r.jsxs)("div",{className:"min-h-[200px]",children:[1===t&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-bold text-lg",children:"Shipping Information"}),r.jsx("input",{type:"text",placeholder:"Full Name",className:"w-full rounded-lg border p-3"}),r.jsx("input",{type:"text",placeholder:"Address",className:"w-full rounded-lg border p-3"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",placeholder:"City",className:"w-full rounded-lg border p-3"}),r.jsx("input",{type:"text",placeholder:"ZIP Code",className:"w-full rounded-lg border p-3"})]})]}),2===t&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-bold text-lg",children:"Payment Information"}),r.jsx("input",{type:"text",placeholder:"Card Number",className:"w-full rounded-lg border p-3"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full rounded-lg border p-3"}),r.jsx("input",{type:"text",placeholder:"CVV",className:"w-full rounded-lg border p-3"})]})]}),3===t&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-bold text-lg",children:"Review Order"}),(0,r.jsxs)("div",{className:"rounded-lg bg-gray-50 p-4",children:[r.jsx("p",{className:"font-semibold mb-2",children:"Order Summary"}),r.jsx("p",{className:"text-sm text-gray-600",children:"2 items"}),r.jsx("p",{className:"text-lg font-bold mt-2",children:"Total: $359.97"})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex gap-4",children:[t>1&&r.jsx("button",{onClick:()=>s(t-1),className:"flex-1 rounded-lg border py-2 hover:bg-gray-50",children:"Back"}),r.jsx("button",{onClick:()=>t<3?s(t+1):e?.({}),className:"flex-1 rounded-lg bg-blue-600 py-2 text-white hover:bg-blue-700",children:t<3?"Continue":"Place Order"})]})]})}},6832:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(1205),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,...h},u)=>(0,r.createElement)("svg",{ref:u,...a,width:n,height:n,stroke:s,strokeWidth:o?24*Number(l)/Number(n):l,className:["lucide",`lucide-${i(e)}`,c].join(" "),...h},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s}},7988:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>n});var r=s(549),a=s(1123),i=s.n(a);s(8467);let n={title:"Cart MFE",description:"Cart & Checkout microfrontend module"};function l({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:i().className,children:e})})}},3856:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(549),a=s(7396);let i=(0,a.createProxy)(String.raw`/Users/siddharthy/Shweta-S/Learn/shopping-app/apps/mfe-cart/src/components/cart-summary.tsx#CartSummary`),n=(0,a.createProxy)(String.raw`/Users/siddharthy/Shweta-S/Learn/shopping-app/apps/mfe-cart/src/components/checkout-flow.tsx#CheckoutFlow`);function l(){return(0,r.jsxs)("div",{className:"container mx-auto p-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Cart & Checkout MFE - Standalone Mode"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"CartSummary Component"}),r.jsx(i,{})]}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"CheckoutFlow Component"}),r.jsx(n,{})]})]}),(0,r.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 rounded",children:[r.jsx("h3",{className:"font-bold mb-2",children:"\uD83C\uDFAF Module Info"}),(0,r.jsxs)("ul",{className:"text-sm space-y-1",children:[r.jsx("li",{children:"✅ Port: 3005"}),r.jsx("li",{children:"✅ Exposed: CartSummary, CheckoutFlow, CartPage"}),r.jsx("li",{children:"✅ Team: Commerce Team"}),r.jsx("li",{children:"✅ Deployable: Independently"})]})]})]})}},8467:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[260],()=>s(4971));module.exports=r})();