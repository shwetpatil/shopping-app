(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1970:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>h,routeModule:()=>m,tree:()=>c}),s(9543),s(7988),s(2262);var r=s(8768),a=s(544),l=s(3574),i=s.n(l),n=s(7730),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9543)),"/Users/siddharthy/Shweta-S/Learn/shopping-app/apps/mfe-search/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,7988)),"/Users/siddharthy/Shweta-S/Learn/shopping-app/apps/mfe-search/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,2262,23)),"next/dist/client/components/not-found-error"]}],h=["/Users/siddharthy/Shweta-S/Learn/shopping-app/apps/mfe-search/src/app/page.tsx"],d="/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7295:(e,t,s)=>{Promise.resolve().then(s.bind(s,2738))},8565:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4069,23)),Promise.resolve().then(s.t.bind(s,8636,23)),Promise.resolve().then(s.t.bind(s,7906,23)),Promise.resolve().then(s.t.bind(s,4228,23)),Promise.resolve().then(s.t.bind(s,5469,23)),Promise.resolve().then(s.t.bind(s,8163,23))},7332:()=>{},2738:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(9436),a=s(1205),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:h,...d},u)=>(0,a.createElement)("svg",{ref:u,...l,width:r,height:r,stroke:s,strokeWidth:o?24*Number(n)/Number(r):n,className:["lucide",`lucide-${i(e)}`,c].join(" "),...d},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(h)?h:[h]]));return s.displayName=`${e}`,s},o=n("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),c=n("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class h{constructor(){this.listeners=new Map,this.eventHistory=[],this.maxHistorySize=50}publish(e,t){this.eventHistory.push({type:e,payload:t}),this.eventHistory.length>this.maxHistorySize&&this.eventHistory.shift();let s=this.listeners.get(e);s&&s.forEach(s=>{try{s(t)}catch(t){console.error(`[EventBus] Error in handler for "${e}":`,t)}})}subscribe(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),()=>{let s=this.listeners.get(e);s&&(s.delete(t),0===s.size&&this.listeners.delete(e))}}subscribeMultiple(e){let t=e.map(({type:e,handler:t})=>this.subscribe(e,t));return()=>{t.forEach(e=>e())}}getHistory(){return[...this.eventHistory]}clearHistory(){this.eventHistory=[]}getActiveSubscriptions(){let e=new Map;return this.listeners.forEach((t,s)=>{e.set(s,t.size)}),e}clear(){this.listeners.clear(),this.eventHistory=[]}}let d=new h;class u{constructor(){this.metrics=[],this.marks=new Map}mark(e){this.marks.set(e,performance.now())}measure(e,t,s){let r=this.marks.get(t);if(!r)return null;let a=performance.now()-r;return this.metrics.push({name:e,duration:a,timestamp:Date.now(),mfeName:s}),this.marks.delete(t),a}getMetrics(){return[...this.metrics]}clearMetrics(){this.metrics=[]}reportToAnalytics(){}}new u;class m{constructor(){this.flags=new Map,this.environment="development"}initialize(e){this.environment=e.environment||"development",Object.entries(e.flags).forEach(([e,t])=>{this.flags.set(e,t)}),console.log(`[FeatureFlags] Initialized with ${this.flags.size} flags in ${this.environment} mode`)}isEnabled(e,t){let s=this.flags.get(e);if(!s)return console.warn(`[FeatureFlags] Flag "${e}" not found, defaulting to false`),!1;if(t&&s.mfeScope&&!s.mfeScope.includes(t))return!1;if(void 0!==s.rolloutPercentage&&s.rolloutPercentage<100){let t=this.getUserId();return this.hashString(`${e}-${t}`)%100<s.rolloutPercentage}return s.enabled}setFlag(e,t){let s=this.flags.get(e);s&&(s.enabled=t,this.flags.set(e,s),console.log(`[FeatureFlags] Updated flag "${e}" to ${t}`))}getAllFlags(){return Array.from(this.flags.values())}getUserId(){return"server"}hashString(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t&=t;return Math.abs(t)}}new m,process.env.NEXT_PUBLIC_API_GATEWAY,process.env.NEXT_PUBLIC_SHELL_URL,process.env.NEXT_PUBLIC_SEARCH_URL,process.env.NEXT_PUBLIC_WISHLIST_URL,process.env.NEXT_PUBLIC_REVIEWS_URL,process.env.NEXT_PUBLIC_PRODUCTS_URL,process.env.NEXT_PUBLIC_CART_URL,process.env.NEXT_PUBLIC_ENABLE_ANALYTICS,process.env.NEXT_PUBLIC_ENABLE_ERROR_TRACKING,process.env.NEXT_PUBLIC_ENABLE_PERFORMANCE,process.env.NEXT_PUBLIC_CDN_URL;class p{constructor(){this.state={user:null,token:null,isAuthenticated:!1,isLoading:!0},this.tokenKey="mfe_auth_token",this.userKey="mfe_user_data"}initialize(){}login(e,t){this.setState({user:e,token:t,isAuthenticated:!0,isLoading:!1}),d.publish("auth:login",{user:e,token:t})}logout(){this.clearAuth(),d.publish("auth:logout",{})}updateUser(e){if(!this.state.user)return;let t={...this.state.user,...e};this.setState({...this.state,user:t})}getToken(){return this.state.token}getUser(){return this.state.user}isAuthenticated(){return this.state.isAuthenticated}getState(){return{...this.state}}setState(e){this.state=e}clearAuth(){this.setState({user:null,token:null,isAuthenticated:!1,isLoading:!1})}}function x({onSearch:e,placeholder:t,initialQuery:s,className:l}){var i;let[n,h]=(0,a.useState)(s||""),u=(i="search:filter",(0,a.useCallback)(e=>{d.publish(i,e)},[i]));return r.jsx("form",{onSubmit:t=>{if(t.preventDefault(),n.trim()){let t={query:n.trim()};u(t),e&&e(t)}},className:`relative flex items-center gap-2 ${l||""}`,children:(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx(o,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:n,onChange:e=>h(e.target.value),placeholder:t||"Search products...",className:"w-full rounded-lg border py-2 pl-10 pr-10 focus:border-blue-600 focus:outline-none"}),n&&r.jsx("button",{type:"button",onClick:()=>{h("")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.jsx(c,{className:"h-5 w-5"})})]})})}new p;let g=["Electronics","Phones","Computers","Audio","Cameras","Gaming","Wearables","Accessories"],v=[{label:"Under $50",min:0,max:50},{label:"$50 - $100",min:50,max:100},{label:"$100 - $250",min:100,max:250},{label:"$250 - $500",min:250,max:500},{label:"$500+",min:500,max:999999}],b=[{label:"4 Stars & Up",value:4},{label:"3 Stars & Up",value:3},{label:"2 Stars & Up",value:2},{label:"1 Star & Up",value:1}];function f({isOpen:e,onClose:t,onApply:s}){let[l,i]=(0,a.useState)(""),[n,o]=(0,a.useState)(""),[h,d]=(0,a.useState)(""),[u,m]=(0,a.useState)("relevance");return e?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:t}),(0,r.jsxs)("div",{className:"fixed right-0 top-0 z-50 h-full w-full max-w-md overflow-y-auto bg-white shadow-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b p-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Filters"}),r.jsx("button",{onClick:t,className:"rounded-lg p-2 hover:bg-gray-100",children:r.jsx(c,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"p-4 space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"mb-3 font-semibold",children:"Sort By"}),(0,r.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full rounded-lg border px-4 py-2 focus:border-blue-600 focus:outline-none",children:[r.jsx("option",{value:"relevance",children:"Relevance"}),r.jsx("option",{value:"price-low",children:"Price: Low to High"}),r.jsx("option",{value:"price-high",children:"Price: High to Low"}),r.jsx("option",{value:"rating",children:"Customer Rating"}),r.jsx("option",{value:"newest",children:"Newest"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"mb-3 font-semibold",children:"Category"}),r.jsx("div",{className:"space-y-2",children:g.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"category",value:e,checked:l===e,onChange:e=>i(e.target.value),className:"h-4 w-4"}),r.jsx("span",{children:e})]},e))})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"mb-3 font-semibold",children:"Price Range"}),r.jsx("div",{className:"space-y-2",children:v.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"priceRange",value:`${e.min}-${e.max}`,checked:n===`${e.min}-${e.max}`,onChange:e=>o(e.target.value),className:"h-4 w-4"}),r.jsx("span",{children:e.label})]},e.label))})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"mb-3 font-semibold",children:"Customer Rating"}),r.jsx("div",{className:"space-y-2",children:b.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"rating",value:e.value,checked:h===e.value.toString(),onChange:e=>d(e.target.value),className:"h-4 w-4"}),r.jsx("span",{children:e.label})]},e.value))})]})]}),(0,r.jsxs)("div",{className:"sticky bottom-0 border-t bg-white p-4 flex gap-3",children:[r.jsx("button",{onClick:()=>{i(""),o(""),d(""),m("relevance"),s&&s({}),t()},className:"flex-1 rounded-lg border px-4 py-2 hover:bg-gray-50",children:"Clear All"}),r.jsx("button",{onClick:()=>{let e={sortBy:"relevance"!==u?u:void 0,category:l||void 0,rating:h?parseInt(h):void 0};if(n){let t=v.find(e=>`${e.min}-${e.max}`===n);t&&(e.minPrice=t.min,e.maxPrice=t.max)}s&&s(e),t()},className:"flex-1 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:"Apply Filters"})]})]})]}):null}function j(){return(0,r.jsxs)("div",{className:"container mx-auto p-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Search MFE - Standalone Mode"}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"SearchBar Component"}),r.jsx(x,{})]}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"FilterPanel Component (Open State)"}),r.jsx("div",{className:"relative",children:r.jsx(f,{isOpen:!0,onClose:()=>{}})})]}),(0,r.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 rounded",children:[r.jsx("h3",{className:"font-bold mb-2",children:"\uD83C\uDFAF Module Info"}),(0,r.jsxs)("ul",{className:"text-sm space-y-1",children:[r.jsx("li",{children:"✅ Port: 3001"}),r.jsx("li",{children:"✅ Exposed: SearchBar, FilterPanel"}),r.jsx("li",{children:"✅ Team: Search Team"}),r.jsx("li",{children:"✅ Deployable: Independently"})]})]})]})}},7988:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var r=s(549),a=s(1123),l=s.n(a);s(8467);let i={title:"Search MFE",description:"Search microfrontend module"};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:l().className,children:e})})}},9543:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(7396).createProxy)(String.raw`/Users/siddharthy/Shweta-S/Learn/shopping-app/apps/mfe-search/src/app/page.tsx#default`)},8467:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[260],()=>s(1970));module.exports=r})();